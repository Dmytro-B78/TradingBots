============================= test session starts =============================
platform win32 -- Python 3.13.1, pytest-8.4.2, pluggy-1.6.0 -- C:\TradingBots\NT\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\TradingBots\NT
configfile: pytest.ini
plugins: cov-7.0.0
collecting ... 
----------------------------- live log collection -----------------------------
DEBUG    tzlocal:win32.py:55 Looking up time zone info from registry
collected 76 items

tests/test_backtest_engine.py::test_backtest_engine_empty_and_with_data PASSED [  1%]
tests/test_cli_entrypoint.py::test_cli_entrypoint_runs 
-------------------------------- live log call --------------------------------
INFO     main:main.py:15 [MAIN] ╨Ч╨░╨┐╤Г╤Б╨║ ╨╛╤Б╨╜╨╛╨▓╨╜╨╛╨│╨╛ ╤Б╨║╤А╨╕╨┐╤В╨░
INFO     main:main.py:18 [MAIN] ╨Я╨░╤А╤Л: ['BTC/USDT']
PASSED                                                                   [  2%]
tests/test_comment_extended.py::test_no_header_in_middle <- tests\test_no_header_in_middle.py PASSED [  3%]
tests/test_config.py::test_load_valid_config PASSED                      [  5%]
tests/test_config.py::test_missing_key_defaults PASSED                   [  6%]
tests/test_config.py::test_file_not_found PASSED                         [  7%]
tests/test_config_loader_module.py::test_config_loader_all_branches PASSED [  9%]
tests/test_dynamic_sltp.py::test_dynamic_sltp_all_branches 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.dynamic_sl_tp:dynamic_sl_tp.py:39 DynamicSLTP: ╨╜╨╡╤В ╨┤╨░╨╜╨╜╤Л╤Е OHLCV ╨┤╨╗╤П ╤А╨░╤Б╤З╤С╤В╨░ SL/TP.
WARNING  bot_ai.risk.dynamic_sl_tp:dynamic_sl_tp.py:44 DynamicSLTP: ATR ╨╜╨╡ ╤А╨░╤Б╤Б╤З╨╕╤В╨░╨╜ ╨╕╨╗╨╕ <= 0.
WARNING  bot_ai.risk.dynamic_sl_tp:dynamic_sl_tp.py:51 DynamicSLTP: ╨╜╨╡╤В ╤Ж╨╡╨╜╤Л ╨▓╤Е╨╛╨┤╨░ ╨┤╨╗╤П ╤А╨░╤Б╤З╤С╤В╨░ SL/TP.
WARNING  bot_ai.risk.dynamic_sl_tp:dynamic_sl_tp.py:61 DynamicSLTP: ╨╜╨╡╨╕╨╖╨▓╨╡╤Б╤В╨╜╨░╤П ╤Б╤В╨╛╤А╨╛╨╜╨░ ╤Б╨┤╨╡╨╗╨║╨╕ hold
PASSED                                                                   [ 10%]
tests/test_executor_logging.py::test_executor_logging_basic PASSED       [ 11%]
tests/test_executor_module.py::test_trade_executor_all_branches PASSED   [ 13%]
tests/test_executor_with_riskguard.py::test_executor_blocks_trade_via_riskguard 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╨▒╤К╤С╨╝ 500 < 1000
PASSED                                                                   [ 14%]
tests/test_executor_with_riskguard.py::test_executor_allows_trade_via_riskguard 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨б╨┤╨╡╨╗╨║╨░ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨░
PASSED                                                                   [ 15%]
tests/test_extra_coverage.py::test_executor_trade PASSED                 [ 17%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args0-False-\u0421\u0442\u0440\u043e\u0433\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430, \u0441\u043f\u0440\u0435\u0434 > \u043b\u0438\u043c\u0438\u0442\u0430] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 18%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args1-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0441\u043f\u0440\u0435\u0434\u0430] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 19%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args2-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a RiskGuard, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 21%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args3-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u043e\u0431\u044a\u0451\u043c\u0430, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 22%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args4-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 D1, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 23%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args5-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 LTF, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 25%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args6-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a RiskGuard \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 26%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args7-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u043e\u0431\u044a\u0451\u043c\u0430 \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 27%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args8-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 D1 \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 28%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args9-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 LTF \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 30%]
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args10-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0432\u0441\u0435\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432] 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 31%]
tests/test_logging_setup.py::test_default_logger_creation PASSED         [ 32%]
tests/test_logging_setup.py::test_logger_with_custom_level PASSED        [ 34%]
tests/test_logging_setup.py::test_logger_with_file 
-------------------------------- live log call --------------------------------
INFO     root:test_logging_setup.py:17 test message
PASSED                                                                   [ 35%]
tests/test_logging_setup.py::test_logger_format 
-------------------------------- live log call --------------------------------
INFO     root:test_logging_setup.py:29 format test
PASSED                                                                   [ 36%]
tests/test_no_header_in_middle.py::test_no_header_in_middle PASSED       [ 38%]
tests/test_notifier.py::test_send_success PASSED                         [ 39%]
tests/test_notifier.py::test_send_empty_disabled PASSED                  [ 40%]
tests/test_notifier.py::test_send_network_error 
-------------------------------- live log call --------------------------------
ERROR    bot_ai.utils.notifier:notifier.py:44 ╨Ю╤И╨╕╨▒╨║╨░ ╨┐╤А╨╕ ╨╛╤В╨┐╤А╨░╨▓╨║╨╡ ╤Г╨▓╨╡╨┤╨╛╨╝╨╗╨╡╨╜╨╕╤П: network down
PASSED                                                                   [ 42%]
tests/test_notifier.py::test_trade_open PASSED                           [ 43%]
tests/test_notifier.py::test_trade_close PASSED                          [ 44%]
tests/test_notifier.py::test_alert PASSED                                [ 46%]
tests/test_notifier_module.py::test_notifier_all_branches 
-------------------------------- live log call --------------------------------
ERROR    bot_ai.utils.notifier:notifier.py:42 ╨Ю╤И╨╕╨▒╨║╨░ ╨╛╤В╨┐╤А╨░╨▓╨║╨╕ ╨▓ Telegram: fail
ERROR    bot_ai.utils.notifier:notifier.py:44 ╨Ю╤И╨╕╨▒╨║╨░ ╨┐╤А╨╕ ╨╛╤В╨┐╤А╨░╨▓╨║╨╡ ╤Г╨▓╨╡╨┤╨╛╨╝╨╗╨╡╨╜╨╕╤П: fail
INFO     bot_ai.utils.notifier:notifier.py:46 [NOTIFY] console message
PASSED                                                                   [ 47%]
tests/test_pipeline.py::test_select_pairs_no_cache PASSED                [ 48%]
tests/test_pipeline.py::test_select_pairs_with_cache PASSED              [ 50%]
tests/test_pipeline_full.py::test_pipeline_full 
-------------------------------- live log call --------------------------------
INFO     bot_ai.selector.pipeline:pipeline.py:133 Whitelist ╨┐╤Г╤Б╤В.
INFO     bot_ai.selector.pipeline:pipeline.py:139 ╨в╨╛╨┐-2 ╨┐╨░╤А:
INFO     bot_ai.selector.pipeline:pipeline.py:143 AAA/USDT: volume=1000
INFO     bot_ai.selector.pipeline:pipeline.py:143 BBB/USDT: volume=500
WARNING  bot_ai.selector.pipeline:pipeline.py:46 [PIPELINE] fetch_ticker(EEE/USDT) ╨╛╤И╨╕╨▒╨║╨░: ticker fail
PASSED                                                                   [ 51%]
tests/test_position_sizer.py::test_position_sizer_calculate_size_all_branches 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.position_sizer:position_sizer.py:28 Stop distance <= 0, fallback ╨╜╨░ ╤Д╨╕╨║╤Б╨╕╤А╨╛╨▓╨░╨╜╨╜╤Л╨╣ ╨╜╨╛╤В╨╕╨╛╨╜╨░╨╗
PASSED                                                                   [ 52%]
tests/test_project_state.py::test_project_state_snapshot PASSED          [ 53%]
tests/test_risk_guard.py::test_risk_guard_daily_loss_and_kill_switch 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨б╨┤╨╡╨╗╨║╨░ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨░
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ф╨╜╨╡╨▓╨╜╨╛╨╣ ╤Г╨▒╤Л╤В╨╛╨║ 5.00% > 1%
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╨▒╤Й╨╕╨╣ ╤Г╨▒╤Л╤В╨╛╨║ 10.00% > 5%
PASSED                                                                   [ 55%]
tests/test_risk_guard_extended.py::test_risk_guard_cooldown_blocks_trades 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨б╨┤╨╡╨╗╨║╨░ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨░
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ъ╤Г╨╗╨┤╨░╤Г╨╜ 5 ╨╝╨╕╨╜, ╨┐╤А╨╛╤И╨╗╨╛ 1.0 ╨╝╨╕╨╜
PASSED                                                                   [ 56%]
tests/test_risk_guard_extended.py::test_risk_guard_max_positions 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╤В╨║╤А╤Л╤В╤Л╤Е ╨┐╨╛╨╖╨╕╤Ж╨╕╨╣ 1 >= 1
PASSED                                                                   [ 57%]
tests/test_risk_guard_extended.py::test_risk_guard_max_position_size 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨а╨░╨╖╨╝╨╡╤А ╨┐╨╛╨╖╨╕╤Ж╨╕╨╕ > 10% ╨╛╤В equity
PASSED                                                                   [ 59%]
tests/test_risk_guard_extended.py::test_integration_risk_executor 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ф╨╜╨╡╨▓╨╜╨╛╨╣ ╤Г╨▒╤Л╤В╨╛╨║ 5.00% > 1%
PASSED                                                                   [ 60%]
tests/test_risk_guard_logging.py::test_risk_guard_logs_denials_and_passes 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╤В╨║╤А╤Л╤В╤Л╤Е ╨┐╨╛╨╖╨╕╤Ж╨╕╨╣ 0 >= 0
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨б╨┤╨╡╨╗╨║╨░ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨░
PASSED                                                                   [ 61%]
tests/test_risk_report.py::test_risk_report_all_branches PASSED          [ 63%]
tests/test_risk_report_module.py::test_risk_report_empty_and_with_data PASSED [ 64%]
tests/test_riskguard_block_cooldown.py::test_cooldown_block 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨б╨┤╨╡╨╗╨║╨░ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨░
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ъ╤Г╨╗╨┤╨░╤Г╨╜ 5 ╨╝╨╕╨╜, ╨┐╤А╨╛╤И╨╗╨╛ 0.0 ╨╝╨╕╨╜
PASSED                                                                   [ 65%]
tests/test_riskguard_block_daily_loss.py::test_daily_loss_block 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ф╨╜╨╡╨▓╨╜╨╛╨╣ ╤Г╨▒╤Л╤В╨╛╨║ 20.00% > 10%
PASSED                                                                   [ 67%]
tests/test_riskguard_block_kill_switch.py::test_kill_switch_block 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: Kill-switch ╨░╨║╤В╨╕╨▓╨╕╤А╨╛╨▓╨░╨╜ тАФ ╤Б╨┤╨╡╨╗╨║╨╕ ╨╖╨░╨┐╤А╨╡╤Й╨╡╨╜╤Л
PASSED                                                                   [ 68%]
tests/test_riskguard_block_logging.py::test_low_volume_block 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╨▒╤К╤С╨╝ 10 < 1000
PASSED                                                                   [ 69%]
tests/test_riskguard_block_low_volume.py::test_low_volume_block 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╨▒╤К╤С╨╝ 50 < 1000
PASSED                                                                   [ 71%]
tests/test_riskguard_block_max_positions.py::test_max_positions_block 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╤В╨║╤А╤Л╤В╤Л╤Е ╨┐╨╛╨╖╨╕╤Ж╨╕╨╣ 1 >= 1
PASSED                                                                   [ 72%]
tests/test_riskguard_block_pass.py::test_pass_logging 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨б╨┤╨╡╨╗╨║╨░ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨░
PASSED                                                                   [ 73%]
tests/test_riskguard_block_position_size.py::test_position_size_block 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 100%
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨а╨░╨╖╨╝╨╡╤А ╨┐╨╛╨╖╨╕╤Ж╨╕╨╕ > 50% ╨╛╤В equity
PASSED                                                                   [ 75%]
tests/test_riskguard_block_risk_per_trade.py::test_risk_per_trade_logging 
-------------------------------- live log call --------------------------------
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨а╨╕╤Б╨║ ╨╜╨░ ╤Б╨┤╨╡╨╗╨║╤Г 5%
INFO     bot_ai.risk.guard:guard.py:127 [RiskGuard] ╨б╨┤╨╡╨╗╨║╨░ ╤А╨░╨╖╤А╨╡╤И╨╡╨╜╨░
PASSED                                                                   [ 76%]
tests/test_riskguard_block_spread.py::test_spread_block 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨б╨┐╤А╨╡╨┤ 1.0% > 0.5%
PASSED                                                                   [ 77%]
tests/test_riskguard_block_total_loss.py::test_total_loss_block 
-------------------------------- live log call --------------------------------
WARNING  bot_ai.risk.guard:guard.py:118 [RiskGuard] ╨Ю╨в╨Ъ╨Р╨Ч: ╨Ю╨▒╤Й╨╕╨╣ ╤Г╨▒╤Л╤В╨╛╨║ 10.00% > 5%
PASSED                                                                   [ 78%]
tests/test_rsi_for_backtest.py::test_rsi_for_backtest_all_branches PASSED [ 80%]
tests/test_rsi_strategy.py::test_rsi_strategy_all_branches PASSED        [ 81%]
tests/test_show_top_pairs.py::test_show_top_pairs_all_branches 
-------------------------------- live log call --------------------------------
INFO     bot_ai.selector.pipeline:pipeline.py:133 Whitelist ╨┐╤Г╤Б╤В.
INFO     bot_ai.selector.pipeline:pipeline.py:139 ╨в╨╛╨┐-2 ╨┐╨░╤А:
INFO     bot_ai.selector.pipeline:pipeline.py:143 AAA/USDT: volume=1000
INFO     bot_ai.selector.pipeline:pipeline.py:143 BBB/USDT: volume=500
PASSED                                                                   [ 82%]
tests/test_sl_tp.py::test_sl_tp_standard_long PASSED                     [ 84%]
tests/test_sl_tp.py::test_sl_tp_standard_short PASSED                    [ 85%]
tests/test_sl_tp.py::test_sl_tp_fixed PASSED                             [ 86%]
tests/test_sl_tp.py::test_sl_tp_invalid_sl_type PASSED                   [ 88%]
tests/test_sl_tp.py::test_sl_tp_invalid_tp_type PASSED                   [ 89%]
tests/test_sl_tp.py::test_sl_tp_invalid_side PASSED                      [ 90%]
tests/test_sl_tp_extended.py::test_dynamic_sltp_bounds[0.5-0.01-0.2-5.0] PASSED [ 92%]
tests/test_sl_tp_extended.py::test_dynamic_sltp_bounds[1.0-0.05-0.2-5.0] PASSED [ 93%]
tests/test_sl_tp_extended.py::test_dynamic_sltp_bounds[2.0-0.1-0.2-5.0] PASSED [ 94%]
tests/test_sma_for_backtest.py::test_sma_for_backtest_all_branches PASSED [ 96%]
tests/test_sma_strategy.py::test_sma_strategy_all_branches PASSED        [ 97%]
tests/test_smoke.py::test_smoke PASSED                                   [ 98%]
tests/test_trend_ok.py::test_trend_ok_all_branches PASSED                [100%]

============================= 76 passed in 4.79s ==============================
Exception ignored in atexit callback <function cleanup_numbered_dir at 0x0000029A76F6F2E0>:
Traceback (most recent call last):
  File "C:\TradingBots\NT\.venv\Lib\site-packages\_pytest\pathlib.py", line 374, in cleanup_numbered_dir
    cleanup_dead_symlinks(root)
  File "C:\TradingBots\NT\.venv\Lib\site-packages\_pytest\pathlib.py", line 359, in cleanup_dead_symlinks
    if not left_dir.resolve().exists():
  File "C:\Users\Dimon\AppData\Local\Programs\Python\Python313\Lib\pathlib\_abc.py", line 450, in exists
    self.stat(follow_symlinks=follow_symlinks)
  File "C:\Users\Dimon\AppData\Local\Programs\Python\Python313\Lib\pathlib\_local.py", line 515, in stat
    return os.stat(self, follow_symlinks=follow_symlinks)
PermissionError: [WinError 5] ╨Ю╤В╨║╨░╨╖╨░╨╜╨╛ ╨▓ ╨┤╨╛╤Б╤В╤Г╨┐╨╡: 'C:\\Users\\Dimon\\AppData\\Local\\Temp\\pytest-of-Dimon\\pytest-current'
