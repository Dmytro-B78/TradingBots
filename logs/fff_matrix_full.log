============================= test session starts =============================
platform win32 -- Python 3.13.1, pytest-8.4.2, pluggy-1.6.0
rootdir: C:\TradingBots\NT
configfile: pytest.ini
plugins: cov-7.0.0
collected 11 items

tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args0-False-\u0421\u0442\u0440\u043e\u0433\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430, \u0441\u043f\u0440\u0435\u0434 > \u043b\u0438\u043c\u0438\u0442\u0430] [CASE] Строгая логика, спред > лимита | expected_pass=False | skip_args={}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:125 [FFF] отсеян по спреду 9.09%
DEBUG    bot_ai.selector.pipeline:pipeline.py:154 [FFF] не прошла фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args1-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0441\u043f\u0440\u0435\u0434\u0430] [CASE] Пропуск спреда | expected_pass=True | skip_args={'skip_spread_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1d SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1h SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:152 [FFF] прошла все фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args2-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a RiskGuard, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] [CASE] Пропуск RiskGuard, но спред режет | expected_pass=False | skip_args={'skip_riskguard_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:125 [FFF] отсеян по спреду 9.09%
DEBUG    bot_ai.selector.pipeline:pipeline.py:154 [FFF] не прошла фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args3-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u043e\u0431\u044a\u0451\u043c\u0430, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] [CASE] Пропуск объёма, но спред режет | expected_pass=False | skip_args={'skip_volume_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:125 [FFF] отсеян по спреду 9.09%
DEBUG    bot_ai.selector.pipeline:pipeline.py:154 [FFF] не прошла фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args4-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 D1, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] [CASE] Пропуск тренда D1, но спред режет | expected_pass=False | skip_args={'skip_trend_d1_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:125 [FFF] отсеян по спреду 9.09%
DEBUG    bot_ai.selector.pipeline:pipeline.py:154 [FFF] не прошла фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args5-False-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 LTF, \u043d\u043e \u0441\u043f\u0440\u0435\u0434 \u0440\u0435\u0436\u0435\u0442] [CASE] Пропуск тренда LTF, но спред режет | expected_pass=False | skip_args={'skip_trend_ltf_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:125 [FFF] отсеян по спреду 9.09%
DEBUG    bot_ai.selector.pipeline:pipeline.py:154 [FFF] не прошла фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args6-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a RiskGuard \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] [CASE] Пропуск RiskGuard и спреда | expected_pass=True | skip_args={'skip_riskguard_for': ['FFF/USDT'], 'skip_spread_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1d SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1h SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:152 [FFF] прошла все фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args7-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u043e\u0431\u044a\u0451\u043c\u0430 \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] [CASE] Пропуск объёма и спреда | expected_pass=True | skip_args={'skip_volume_for': ['FFF/USDT'], 'skip_spread_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1d SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1h SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:152 [FFF] прошла все фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args8-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 D1 \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] [CASE] Пропуск тренда D1 и спреда | expected_pass=True | skip_args={'skip_trend_d1_for': ['FFF/USDT'], 'skip_spread_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1h SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:152 [FFF] прошла все фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args9-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0434\u0430 LTF \u0438 \u0441\u043f\u0440\u0435\u0434\u0430] [CASE] Пропуск тренда LTF и спреда | expected_pass=True | skip_args={'skip_trend_ltf_for': ['FFF/USDT'], 'skip_spread_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:34 [FFF] 1d SMA_fast=2.0 SMA_slow=1.75
DEBUG    bot_ai.selector.pipeline:pipeline.py:152 [FFF] прошла все фильтры
PASSED
tests/test_fetch_and_filter_pairs.py::test_fetch_and_filter_pairs_matrix[skip_args10-True-\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0432\u0441\u0435\u0445 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432] [CASE] Пропуск всех фильтров | expected_pass=True | skip_args={'skip_riskguard_for': ['FFF/USDT'], 'skip_volume_for': ['FFF/USDT'], 'skip_spread_for': ['FFF/USDT'], 'skip_trend_d1_for': ['FFF/USDT'], 'skip_trend_ltf_for': ['FFF/USDT']}

-------------------------------- live log call --------------------------------
DEBUG    bot_ai.selector.pipeline:pipeline.py:83 [FFF] старт фильтрации
DEBUG    bot_ai.selector.pipeline:pipeline.py:152 [FFF] прошла все фильтры
PASSED

============================= 11 passed in 1.56s ==============================
