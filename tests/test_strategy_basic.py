# tests/test_strategy_basic.py# Р В Р’В Р РЋРЎвЂєР В Р’В Р вЂ™Р’ВµР В Р Р‹Р В РЎвЂњР В Р Р‹Р Р†Р вЂљРЎв„ўР В Р’В Р РЋРІР‚ВР В Р Р‹Р В РІР‚С™Р В Р Р‹Р РЋРІР‚СљР В Р’В Р вЂ™Р’ВµР В Р’В Р РЋР’В generate_signals() Р В Р’В Р В РІР‚В¦Р В Р’В Р вЂ™Р’В°Р В Р’В Р РЋРІР‚вЂќР В Р Р‹Р В РІР‚С™Р В Р Р‹Р В Р РЏР В Р’В Р РЋР’ВР В Р Р‹Р РЋРІР‚СљР В Р Р‹Р В РІР‚в„–, Р В Р’В Р РЋРІР‚вЂќР В Р’В Р РЋРІР‚СћР В Р’В Р СћРІР‚ВР В Р Р‹Р В РЎвЂњР В Р Р‹Р Р†Р вЂљРЎв„ўР В Р’В Р вЂ™Р’В°Р В Р’В Р В РІР‚В Р В Р’В Р вЂ™Р’В»Р В Р Р‹Р В Р РЏР В Р Р‹Р В Р РЏ RSI Р В Р’В Р В РІР‚В Р В Р Р‹Р В РІР‚С™Р В Р Р‹Р РЋРІР‚СљР В Р Р‹Р Р†Р вЂљР Р‹Р В Р’В Р В РІР‚В¦Р В Р Р‹Р РЋРІР‚СљР В Р Р‹Р В РІР‚в„–import pytestimport pandas as pdfrom bot_ai.strategy.mean_reversion import MeanReversionStrategy@pytest.fixturedef strategy():`n    pass    config = {        "sma_fast": 2,        "sma_slow": 5,        "rsi_period": 5    }    return MeanReversionStrategy(config=config)def test_generate_buy_signal(strategy):`n    pass    df = pd.DataFrame({        "close": [100, 101, 102, 103, 104, 105, 106, 107, 108, 109],        "sma_fast": [100, 101, 102, 103, 104, 105, 106, 107, 108, 109],        "sma_slow": [99, 100, 101, 102, 103, 104, 105, 106, 107, 108],        "rsi": [25] * 10  # < 30 > BUY    })    df = strategy.generate_signals(df)    print("\nBUY TEST:\n", df[["sma_fast", "sma_slow", "rsi", "signal"]].tail(3))    assert df["signal"].iloc[-1] == 1def test_generate_sell_signal(strategy):`n    pass    df = pd.DataFrame({        "close": [109, 108, 107, 106, 105, 104, 103, 102, 101, 100],        "sma_fast": [109, 108, 107, 106, 105, 104, 103, 102, 101, 100],        "sma_slow": [110, 109, 108, 107, 106, 105, 104, 103, 102, 101],        "rsi": [75] * 10  # > 70 > SELL    })    df = strategy.generate_signals(df)    print("\nSELL TEST:\n", df[["sma_fast", "sma_slow", "rsi", "signal"]].tail(3))    assert df["signal"].iloc[-1] == -1def test_no_signal_when_flat(strategy):`n    pass    df = pd.DataFrame({        "close": [100] * 10,        "sma_fast": [100] * 10,        "sma_slow": [100] * 10,        "rsi": [50] * 10    })    df = strategy.generate_signals(df)    assert df["signal"].iloc[-1] == 0




